<body>

<div class="container" style="backdrop-filter: blur(10px);
">
      <h2>Student Registration Form</h2>
      <form #enquiryForm="ngForm" (ngSubmit)="onSubmit(enquiryForm)" novalidate>

        <div *ngIf="successMessage" class="success-msg">{{ successMessage }}</div>

        <label>Student Name:</label>
        <input type="text" name="studentName" [(ngModel)]="enquiry.studentName"
               required pattern="^[A-Za-z ]{3,30}$"
               #studentName="ngModel"
               [class.invalid]="(studentName.invalid && studentName.touched) || (studentName.invalid && enquiryForm.submitted)">
        <small *ngIf="(studentName.invalid && studentName.touched) || (studentName.invalid && enquiryForm.submitted)" class="error-msg">
          Name must be 3–30 letters.
        </small>

        <label>Mobile Number:</label>
        <input type="text" name="mobileNumber" [(ngModel)]="enquiry.mobileNumber"
               required pattern="^[6-9][0-9]{9}$"
               #mobileNumber="ngModel"
               [class.invalid]="(mobileNumber.invalid && mobileNumber.touched) || (mobileNumber.invalid && enquiryForm.submitted)">
        <small *ngIf="(mobileNumber.invalid && mobileNumber.touched) || (mobileNumber.invalid && enquiryForm.submitted)" class="error-msg">
          Enter a valid 10-digit Indian mobile number.
        </small>

        <label>Email:</label>
        <input type="email" name="email" [(ngModel)]="enquiry.email"
               required pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$"
               #email="ngModel"
               [class.invalid]="(email.invalid && email.touched) || (email.invalid && enquiryForm.submitted)">
        <small *ngIf="(email.errors?.['required'] && (email.touched || enquiryForm.submitted))" class="error-msg">
          Email is required.
        </small>
        <small *ngIf="(email.errors?.['pattern'] && (email.touched || enquiryForm.submitted))" class="error-msg">
          Enter a valid email (e.g., user@example.com).
        </small>

        <label>Qualification:</label>
        <input type="text" name="qualification" [(ngModel)]="enquiry.qualification"
               pattern="^[A-Za-z0-9 .,-]{2,50}$"
               #qualification="ngModel"
               [class.invalid]="(qualification.invalid && qualification.touched) || (qualification.invalid && enquiryForm.submitted)">
        <small *ngIf="(qualification.invalid && qualification.touched) || (qualification.invalid && enquiryForm.submitted)" class="error-msg">
          Only letters, numbers, space, dot, comma allowed (2–50 chars).
        </small>

        <label>Passing Year:</label>
        <input type="text" name="passingYear" [(ngModel)]="enquiry.passingYear"
               pattern="^(19|20)[0-9]{2}$"
               #passingYear="ngModel"
               [class.invalid]="(passingYear.invalid && passingYear.touched) || (passingYear.invalid && enquiryForm.submitted)">
        <small *ngIf="(passingYear.invalid && passingYear.touched) || (passingYear.invalid && enquiryForm.submitted)" class="error-msg">
          Enter a valid year (e.g., 2023).
        </small>

        <label>Courses:</label>
        <mat-form-field appearance="outline" class="full-width">
          <mat-select placeholder="Select Courses" [(ngModel)]="enquiry.courses" name="courses" multiple required>
            <mat-option *ngFor="let course of availableCourses" [value]="course">{{ course }}</mat-option>
          </mat-select>
        </mat-form-field>
        <small *ngIf="(!enquiry.courses?.length && enquiryForm.submitted)" class="error-msg">
          Please select at least one course.
        </small>

        <label>Course Mode:</label>
        <select name="courseMode" [(ngModel)]="enquiry.courseMode" required
                #courseMode="ngModel"
                [class.invalid]="(courseMode.invalid && courseMode.touched) || (courseMode.invalid && enquiryForm.submitted)">
          <option value="" disabled selected>Select Mode</option>
          <option value="Online">Online</option>
          <option value="Offline">Offline</option>
        </select>
        <small *ngIf="(courseMode.invalid && courseMode.touched) || (courseMode.invalid && enquiryForm.submitted)" class="error-msg">
          Please select a course mode.
        </small>

        <label>Address:</label>
        <textarea name="address" [(ngModel)]="enquiry.address" required minlength="5" maxlength="200"
                  #address="ngModel"
                  [class.invalid]="(address.invalid && address.touched) || (address.invalid && enquiryForm.submitted)"></textarea>
        <small *ngIf="(address.invalid && address.touched) || (address.invalid && enquiryForm.submitted)" class="error-msg">
          Address must be 5–200 characters.
        </small>

        <button type="submit" [disabled]="isSubmitting">{{ isSubmitting ? 'Submitting...' : 'Submit' }}</button>
      </form>
    </div>

</body>




